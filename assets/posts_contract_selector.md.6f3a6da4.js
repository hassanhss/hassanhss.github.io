import{_ as e,o as t,c as a,f as d}from"./app.6c0794bd.js";const f='{"title":"Solidity\u4E4B\u9009\u62E9\u5668","description":"\u9009\u62E9\u5668","frontmatter":{"date":"2023-01-15T00:00:00.000Z","title":"Solidity\u4E4B\u9009\u62E9\u5668","tags":["\u667A\u80FD\u5408\u7EA6","Solidity"],"description":"\u9009\u62E9\u5668"},"headers":[{"level":2,"title":"msg.data","slug":"msg-data"},{"level":2,"title":"method id\u3001selector\u548C\u51FD\u6570\u7B7E\u540D","slug":"method-id\u3001selector\u548C\u51FD\u6570\u7B7E\u540D"},{"level":2,"title":"\u4F7F\u7528selector","slug":"\u4F7F\u7528selector"}],"relativePath":"posts/contract/selector.md"}',c={},o=d(`<h1 id="solidity\u4E4B\u9009\u62E9\u5668" tabindex="-1">Solidity\u4E4B\u9009\u62E9\u5668 <a class="header-anchor" href="#solidity\u4E4B\u9009\u62E9\u5668" aria-hidden="true">#</a></h1><p>\u5F53\u6211\u4EEC\u8C03\u7528\u667A\u80FD\u5408\u7EA6\u65F6\uFF0C\u672C\u8D28\u4E0A\u662F\u5411\u76EE\u6807\u5408\u7EA6\u53D1\u9001\u4E86\u4E00\u6BB5calldata\uFF0C\u53D1\u9001\u7684calldata\u4E2D\u524D4\u4E2A\u5B57\u8282\u662Fselector\uFF08\u51FD\u6570\u9009\u62E9\u5668\uFF09\u3002</p><h2 id="msg-data" tabindex="-1">msg.data <a class="header-anchor" href="#msg-data" aria-hidden="true">#</a></h2><p>msg.data\u662Fsolidity\u4E2D\u7684\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF\uFF0C\u503C\u4E3A\u5B8C\u6574\u7684calldata\uFF08\u8C03\u7528\u51FD\u6570\u65F6\u4F20\u5165\u7684\u6570\u636E\uFF09\u3002</p><p>\u5728\u4E0B\u9762\u7684\u4EE3\u7801\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7Log\u4E8B\u4EF6\u6765\u8F93\u51FA\u8C03\u7528mint\u51FD\u6570\u7684calldata\uFF1A</p><div class="language-"><pre><code>    // event \u8FD4\u56DEmsg.data
    event Log(bytes data);

    function mint(address to) external{
        emit Log(msg.data);
    }
</code></pre></div><p>\u5F53\u53C2\u6570\u4E3A0x2c44b726ADF1963cA47Af88B284C06f30380fC78\u65F6\uFF0C\u8F93\u51FA\u7684calldata\u4E3A</p><div class="language-"><pre><code>0x6a6278420000000000000000000000002c44b726adf1963ca47af88b284c06f30380fc78
</code></pre></div><p>\u8FD9\u6BB5\u5B57\u8282\u7801\u53EF\u4EE5\u5206\u6210\u4E24\u90E8\u5206\uFF1A</p><div class="language-"><pre><code>\u524D4\u4E2A\u5B57\u8282\u4E3A\u51FD\u6570\u9009\u62E9\u5668selector\uFF1A
0x6a627842

\u540E\u976232\u4E2A\u5B57\u8282\u4E3A\u8F93\u5165\u7684\u53C2\u6570\uFF1A
0x0000000000000000000000002c44b726adf1963ca47af88b284c06f30380fc78
</code></pre></div><p>\u5176\u5B9Ecalldata\u5C31\u662F\u544A\u8BC9\u667A\u80FD\u5408\u7EA6\uFF0C\u6211\u8981\u8C03\u7528\u54EA\u4E2A\u51FD\u6570\uFF0C\u4EE5\u53CA\u53C2\u6570\u662F\u4EC0\u4E48\u3002</p><h2 id="method-id\u3001selector\u548C\u51FD\u6570\u7B7E\u540D" tabindex="-1">method id\u3001selector\u548C\u51FD\u6570\u7B7E\u540D <a class="header-anchor" href="#method-id\u3001selector\u548C\u51FD\u6570\u7B7E\u540D" aria-hidden="true">#</a></h2><p>method id\u5B9A\u4E49\u4E3A\u51FD\u6570\u7B7E\u540D\u7684Keccak\u54C8\u5E0C\u540E\u7684\u524D4\u4E2A\u5B57\u8282\uFF0C\u5F53selector\u4E0Emethod id\u76F8\u5339\u914D\u65F6\uFF0C\u5373\u8868\u793A\u8C03\u7528\u8BE5\u51FD\u6570\u3002\u51FD\u6570\u7B7E\u540D\uFF0C\u4E3A&quot;\u51FD\u6570\u540D\uFF08\u9017\u53F7\u5206\u9694\u7684\u53C2\u6570\u7C7B\u578B)&quot;\u3002\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u4E0A\u9762\u4EE3\u7801\u4E2Dmint\u7684\u51FD\u6570\u7B7E\u540D\u4E3A&quot;mint(address)&quot;\u3002\u5728\u540C\u4E00\u4E2A\u667A\u80FD\u5408\u7EA6\u4E2D\uFF0C\u4E0D\u540C\u7684\u51FD\u6570\u6709\u4E0D\u540C\u7684\u51FD\u6570\u7B7E\u540D\uFF0C\u56E0\u6B64\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u51FD\u6570\u7B7E\u540D\u6765\u786E\u5B9A\u8981\u8C03\u7528\u54EA\u4E2A\u51FD\u6570\u3002</p><p>\u6CE8\u610F\uFF0C\u5728\u51FD\u6570\u7B7E\u540D\u4E2D\uFF0Cuint\u548Cint\u8981\u5199\u4E3Auint256\u548Cint256\u3002</p><p>\u6211\u4EEC\u5199\u4E00\u4E2A\u51FD\u6570\uFF0C\u6765\u9A8C\u8BC1mint\u51FD\u6570\u7684method id\u662F\u5426\u4E3A0x6a627842\u3002\u5927\u5BB6\u53EF\u4EE5\u8FD0\u884C\u4E0B\u9762\u7684\u51FD\u6570\uFF0C\u770B\u770B\u7ED3\u679C\u3002</p><div class="language-"><pre><code>    function mintSelector() external pure returns(bytes4 mSelector){
        return bytes4(keccak256(&quot;mint(address)&quot;));
    }
</code></pre></div><h2 id="\u4F7F\u7528selector" tabindex="-1">\u4F7F\u7528selector <a class="header-anchor" href="#\u4F7F\u7528selector" aria-hidden="true">#</a></h2><p>\u6211\u4EEC\u53EF\u4EE5\u5229\u7528selector\u6765\u8C03\u7528\u76EE\u6807\u51FD\u6570\u3002\u4F8B\u5982\u6211\u60F3\u8C03\u7528mint\u51FD\u6570\uFF0C\u6211\u53EA\u9700\u8981\u5229\u7528abi.encodeWithSelector\u5C06mint\u51FD\u6570\u7684method id\u4F5C\u4E3Aselector\u548C\u53C2\u6570\u6253\u5305\u7F16\u7801\uFF0C\u4F20\u7ED9call\u51FD\u6570\uFF1A</p><div class="language-"><pre><code>    function callWithSignature() external returns(bool, bytes memory){
        (bool success, bytes memory data) = address(this).call(abi.encodeWithSelector(0x6a627842, &quot;0x2c44b726ADF1963cA47Af88B284C06f30380fC78&quot;));
        return(success, data);
    }
</code></pre></div><p>\u5728\u65E5\u5FD7\u4E2D\uFF0C\u53EF\u4EE5\u770B\u5230mint\u51FD\u6570\u88AB\u6210\u529F\u8C03\u7528\uFF0C\u5E76\u8F93\u51FALog\u4E8B\u4EF6\u3002</p>`,20),s=[o];function i(r,l,n,p,h,m){return t(),a("div",null,s)}var g=e(c,[["render",i]]);export{f as __pageData,g as default};
