import{_ as e,o as a,c as t,f as i}from"./app.772c5167.js";var n="/assets/trx_status.78892190.png";const g='{"title":"MySQL\u4E8B\u52A1","description":"\u4E8B\u52A1\u76F8\u5173\u95EE\u9898","frontmatter":{"date":"2023-06-25T00:00:00.000Z","title":"MySQL\u4E8B\u52A1","tags":["MySQL"],"description":"\u4E8B\u52A1\u76F8\u5173\u95EE\u9898"},"headers":[{"level":2,"title":"\u4E8B\u52A1\u7684\u5C5E\u6027","slug":"\u4E8B\u52A1\u7684\u5C5E\u6027"},{"level":2,"title":"MySQL\u4E2D\u4E8B\u52A1\u7684\u8BED\u6CD5","slug":"mysql\u4E2D\u4E8B\u52A1\u7684\u8BED\u6CD5"},{"level":3,"title":"\u5F00\u542F\u4E8B\u52A1","slug":"\u5F00\u542F\u4E8B\u52A1"},{"level":3,"title":"\u63D0\u4EA4\u4E8B\u52A1","slug":"\u63D0\u4EA4\u4E8B\u52A1"},{"level":3,"title":"\u624B\u52A8\u4E2D\u6B62\u4E8B\u52A1","slug":"\u624B\u52A8\u4E2D\u6B62\u4E8B\u52A1"},{"level":3,"title":"\u81EA\u52A8\u63D0\u4EA4","slug":"\u81EA\u52A8\u63D0\u4EA4"},{"level":3,"title":"\u4FDD\u5B58\u70B9","slug":"\u4FDD\u5B58\u70B9"},{"level":2,"title":"\u53C2\u8003","slug":"\u53C2\u8003"}],"relativePath":"posts/mysql/mysql_transaction.md"}',s={},o=i('<h1 id="\u4EC0\u4E48\u662F\u4E8B\u52A1\uFF1F" tabindex="-1">\u4EC0\u4E48\u662F\u4E8B\u52A1\uFF1F <a class="header-anchor" href="#\u4EC0\u4E48\u662F\u4E8B\u52A1\uFF1F" aria-hidden="true">#</a></h1><blockquote><p>A database transaction symbolizes a unit of work, performed within a database management system (or similar system) against a database, that is treated in a coherent and reliable way independent of other transactions. A transaction generally represents any change in a database. Transactions in a database environment have two main purposes:</p></blockquote><blockquote><ol><li>To provide reliable units of work that allow correct recovery from failures and keep a database consistent even in cases of system failure. For example: when execution prematurely and unexpectedly stops (completely or partially) in which case many operations upon a database remain uncompleted, with unclear status.</li></ol></blockquote><blockquote><ol start="2"><li>To provide isolation between programs accessing a database concurrently. If this isolation is not provided, the programs&#39; outcomes are possibly erroneous.</li></ol></blockquote><p>\u4EE5\u4E0A\u662Fwiki\u767E\u79D1\u4E2D\u7684\u89E3\u91CA\u3002\u4E8B\u52A1\u5C31\u662F\u4FDD\u8BC1\u65E0\u8BBA\u53D1\u751F\u4EC0\u4E48\uFF0C\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E\u90FD\u662F\u5904\u4E8E\u5408\u7406\u7684\u72B6\u6001\u3002</p><h2 id="\u4E8B\u52A1\u7684\u5C5E\u6027" tabindex="-1">\u4E8B\u52A1\u7684\u5C5E\u6027 <a class="header-anchor" href="#\u4E8B\u52A1\u7684\u5C5E\u6027" aria-hidden="true">#</a></h2><ul><li><p>Atomicity(\u539F\u5B50\u6027)\uFF0CTransactions are often composed of multiple statements. Atomicity guarantees that each transaction is treated as a single &quot;unit&quot;, which either succeeds completely or fails completely: if any of the statements constituting a transaction fails to complete, the entire transaction fails and the database is left unchanged. An atomic system must guarantee atomicity in each and every situation, including power failures, errors, and crashes. A guarantee of atomicity prevents updates to the database from occurring only partially, which can cause greater problems than rejecting the whole series outright. As a consequence, the transaction cannot be observed to be in progress by another database client. At one moment in time, it has not yet happened, and at the next, it has already occurred in whole (or nothing happened if the transaction was canceled in progress).</p></li><li><p>Consistency(\u4E00\u81F4\u6027)\uFF0CConsistency ensures that a transaction can only bring the database from one consistent state to another, preserving database invariants: any data written to the database must be valid according to all defined rules, including constraints, cascades, triggers, and any combination thereof. This prevents database corruption by an illegal transaction. Referential integrity guarantees the primary key\u2013foreign key relationship.</p></li><li><p>Isolation(\u9694\u79BB\u6027)\uFF0CTransactions are often executed concurrently (e.g., multiple transactions reading and writing to a table at the same time). Isolation ensures that concurrent execution of transactions leaves the database in the same state that would have been obtained if the transactions were executed sequentially. Isolation is the main goal of concurrency control; depending on the isolation level used, the effects of an incomplete transaction might not be visible to other transactions.</p></li><li><p>Durability(\u6301\u4E45\u6027)\uFF0CDurability guarantees that once a transaction has been committed, it will remain committed even in the case of a system failure (e.g., power outage or crash). This usually means that completed transactions (or their effects) are recorded in non-volatile memory.</p></li></ul><p>\u4E8B\u52A1\u662F\u4E00\u4E2A\u5F88\u62BD\u8C61\u7684\u6982\u5FF5\uFF0C\u5B83\u5BF9\u5E94\u7740\u6570\u636E\u5E93\u7684\u4E00\u4E2A\u6216\u591A\u4E2A\u64CD\u4F5C\uFF0C\u8FD9\u4E9B\u64CD\u4F5C\u6240\u6267\u884C\u7684\u4E0D\u540C\u9636\u6BB5\u628A\u4E8B\u52A1\u5927\u81F4\u4E0A\u6362\u5206\u6210\u4E86\u8FD9\u4E48\u51E0\u4E2A\u72B6\u6001\uFF1A</p><ul><li><p>\u6D3B\u52A8\u7684(active)</p><p>\u4E8B\u52A1\u5BF9\u5E94\u7684\u6570\u636E\u5E93\u64CD\u4F5C\u6B63\u5728\u6267\u884C\u8FC7\u7A0B\u4E2D\u65F6\uFF0C\u6211\u4EEC\u5C31\u8BF4\u8BE5\u4E8B\u52A1\u5904\u5728\u6D3B\u52A8\u7684\u72B6\u6001\u3002</p></li><li><p>\u90E8\u5206\u63D0\u4EA4\u7684(partially commited)</p><p>\u5F53\u4E8B\u52A1\u4E2D\u7684\u6700\u540E\u4E00\u4E2A\u64CD\u4F5C\u6267\u884C\u5B8C\u6210\uFF0C\u4F46\u7531\u4E8E\u64CD\u4F5C\u90FD\u662F\u5728\u5185\u5B58\u4E2D\u6267\u884C\uFF0C\u6240\u9020\u6210\u7684\u5F71\u54CD\u5E76\u6CA1\u6709\u5237\u65B0\u5230\u78C1\u76D8\u65F6\uFF0C\u6211\u4EEC\u5C31\u8BF4\u8BE5\u4E8B\u52A1\u5904\u5728\u90E8\u95E8\u63D0\u4EA4\u7684\u72B6\u6001\u3002</p></li><li><p>\u5931\u8D25\u7684(failed)</p><p>\u5F53\u4E8B\u52A1\u5904\u5728\u6D3B\u52A8\u7684\u6216\u8005\u90E8\u5206\u63D0\u4EA4\u7684\u72B6\u6001\u65F6\uFF0C\u53EF\u80FD\u9047\u5230\u4E86\u67D0\u4E9B\u9519\u8BEF\uFF08\u6570\u636E\u5E93\u81EA\u8EAB\u7684\u9519\u8BEF\u3001\u64CD\u4F5C\u7CFB\u7EDF\u9519\u8BEF\u6216\u8005\u76F4\u63A5\u65AD\u7535\u7B49\uFF09\u800C\u65E0\u6CD5\u7EE7\u7EED\u6267\u884C\uFF0C\u6216\u8005\u4EBA\u4E3A\u7684\u505C\u6B62\u5F53\u524D\u4E8B\u52A1\u7684\u6267\u884C\uFF0C\u6211\u4EEC\u5C31\u8BF4\u8BE5\u4E8B\u52A1\u5904\u5728\u5931\u8D25\u7684\u72B6\u6001\u3002</p></li><li><p>\u4E2D\u6B62\u7684(aborted)</p><p>\u5982\u679C\u4E8B\u52A1\u6267\u884C\u4E86\u534A\u622A\u800C\u53D8\u4E3A\u5931\u8D25\u7684\u72B6\u6001,\u8981\u64A4\u9500\u5931\u8D25\u4E8B\u52A1\u5BF9\u5F53\u524D\u6570\u636E\u5E93\u9020\u6210\u7684\u5F71\u54CD\u3002\u6211\u4EEC\u628A\u8FD9\u4E2A\u64A4\u9500\u7684\u8FC7\u7A0B\u79F0\u4E4B\u4E3A\u56DE\u6EDA\u3002\u5F53\u56DE\u6EDA\u64CD\u4F5C\u6267\u884C\u5B8C\u6BD5\u65F6\uFF0C\u4E5F\u5C31\u662F\u6570\u636E\u5E93\u6062\u590D\u5230\u4E86\u6267\u884C\u4E8B\u52A1\u4E4B\u524D\u7684\u72B6\u6001\uFF0C\u6211\u4EEC\u5C31\u8BF4\u8BE5\u4E8B\u52A1\u5904\u5728\u4E86\u4E2D\u6B62\u7684\u72B6\u6001\u3002</p></li><li><p>\u63D0\u4EA4\u7684(committed)</p><p>\u5F53\u4E00\u4E2A\u5904\u5728\u90E8\u5206\u63D0\u4EA4\u7684\u72B6\u6001\u7684\u4E8B\u52A1\u5C06\u4FEE\u6539\u8FC7\u7684\u6570\u636E\u90FD\u540C\u6B65\u5230\u78C1\u76D8\u4E0A\u4E4B\u540E\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u8BF4\u8BE5\u4E8B\u52A1\u5904\u5728\u4E86\u63D0\u4EA4\u7684\u72B6\u6001\u3002</p></li></ul><p>\u968F\u7740\u4E8B\u52A1\u5BF9\u5E94\u7684\u6570\u636E\u5E93\u64CD\u4F5C\u6267\u884C\u5230\u4E0D\u540C\u9636\u6BB5\uFF0C\u4E8B\u52A1\u7684\u72B6\u6001\u4E5F\u5728\u4E0D\u65AD\u53D8\u5316\uFF0C\u4E00\u4E2A\u57FA\u672C\u7684\u72B6\u6001\u8F6C\u6362\u56FE\u5982\u4E0B\u6240\u793A\uFF1A</p><p><img src="'+n+`" alt=""></p><h2 id="mysql\u4E2D\u4E8B\u52A1\u7684\u8BED\u6CD5" tabindex="-1">MySQL\u4E2D\u4E8B\u52A1\u7684\u8BED\u6CD5 <a class="header-anchor" href="#mysql\u4E2D\u4E8B\u52A1\u7684\u8BED\u6CD5" aria-hidden="true">#</a></h2><h3 id="\u5F00\u542F\u4E8B\u52A1" tabindex="-1">\u5F00\u542F\u4E8B\u52A1 <a class="header-anchor" href="#\u5F00\u542F\u4E8B\u52A1" aria-hidden="true">#</a></h3><p>\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u4E0B\u8FB9\u4E24\u79CD\u8BED\u53E5\u4E4B\u4E00\u6765\u5F00\u542F\u4E00\u4E2A\u4E8B\u52A1\uFF1A</p><ul><li><p>BEGIN [WORK];</p><p>BEGIN\u8BED\u53E5\u4EE3\u8868\u5F00\u542F\u4E00\u4E2A\u4E8B\u52A1\uFF0C\u540E\u8FB9\u7684\u5355\u8BCDWORK\u53EF\u6709\u53EF\u65E0\u3002\u5F00\u542F\u4E8B\u52A1\u540E\uFF0C\u5C31\u53EF\u4EE5\u7EE7\u7EED\u5199\u82E5\u5E72\u6761\u8BED\u53E5\uFF0C\u8FD9\u4E9B\u8BED\u53E5\u90FD\u5C5E\u4E8E\u521A\u521A\u5F00\u542F\u7684\u8FD9\u4E2A\u4E8B\u52A1\u3002</p><div class="language-"><pre><code>mysql&gt; BEGIN;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; \u52A0\u5165\u4E8B\u52A1\u7684\u8BED\u53E5...
</code></pre></div></li><li><p>START TRANSACTION;</p><p>START TRANSACTION\u8BED\u53E5\u548CBEGIN\u8BED\u53E5\u6709\u7740\u76F8\u540C\u7684\u529F\u6548\uFF0C\u90FD\u6807\u5FD7\u7740\u5F00\u542F\u4E00\u4E2A\u4E8B\u52A1\uFF0C\u6BD4\u5982\u8FD9\u6837\uFF1A</p><div class="language-"><pre><code>mysql&gt; START TRANSACTION;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; \u52A0\u5165\u4E8B\u52A1\u7684\u8BED\u53E5...
</code></pre></div></li></ul><p>\u4E0D\u8FC7\u6BD4BEGIN\u8BED\u53E5\u725B\u903C\u4E00\u70B9\u513F\u7684\u662F\uFF0C\u53EF\u4EE5\u5728START TRANSACTION\u8BED\u53E5\u540E\u8FB9\u8DDF\u968F\u51E0\u4E2A\u4FEE\u9970\u7B26\uFF0C\u5C31\u662F\u5B83\u4EEC\u51E0\u4E2A\uFF1A</p><ul><li>READ ONLY\uFF1A\u6807\u8BC6\u5F53\u524D\u4E8B\u52A1\u662F\u4E00\u4E2A\u53EA\u8BFB\u4E8B\u52A1\uFF0C\u4E5F\u5C31\u662F\u5C5E\u4E8E\u8BE5\u4E8B\u52A1\u7684\u6570\u636E\u5E93\u64CD\u4F5C\u53EA\u80FD\u8BFB\u53D6\u6570\u636E\uFF0C\u800C\u4E0D\u80FD\u4FEE\u6539\u6570\u636E\u3002</li><li>READ WRITE\uFF1A\u6807\u8BC6\u5F53\u524D\u4E8B\u52A1\u662F\u4E00\u4E2A\u8BFB\u5199\u4E8B\u52A1\uFF0C\u4E5F\u5C31\u662F\u5C5E\u4E8E\u8BE5\u4E8B\u52A1\u7684\u6570\u636E\u5E93\u64CD\u4F5C\u65E2\u53EF\u4EE5\u8BFB\u53D6\u6570\u636E\uFF0C\u4E5F\u53EF\u4EE5\u4FEE\u6539\u6570\u636E\u3002</li><li>WITH CONSISTENT SNAPSHOT\uFF1A\u542F\u52A8\u4E00\u81F4\u6027\u8BFB</li></ul><p>\u6BD4\u5982\u6211\u4EEC\u60F3\u5F00\u542F\u4E00\u4E2A\u53EA\u8BFB\u4E8B\u52A1\u7684\u8BDD\uFF0C\u76F4\u63A5\u628AREAD ONLY\u8FD9\u4E2A\u4FEE\u9970\u7B26\u52A0\u5728START TRANSACTION\u8BED\u53E5\u540E\u8FB9\u5C31\u597D\uFF0C\u6BD4\u5982\u8FD9\u6837\uFF1A</p><div class="language-"><pre><code>START TRANSACTION READ ONLY;
</code></pre></div><p>\u5982\u679C\u6211\u4EEC\u60F3\u5728START TRANSACTION\u540E\u8FB9\u8DDF\u968F\u591A\u4E2A\u4FEE\u9970\u7B26\u7684\u8BDD\uFF0C\u53EF\u4EE5\u4F7F\u7528\u9017\u53F7\u5C06\u4FEE\u9970\u7B26\u5206\u5F00\uFF0C\u6BD4\u5982\u5F00\u542F\u4E00\u4E2A\u53EA\u8BFB\u4E8B\u52A1\u548C\u4E00\u81F4\u6027\u8BFB\uFF0C\u5C31\u53EF\u4EE5\u8FD9\u6837\u5199\uFF1A</p><div class="language-"><pre><code>START TRANSACTION READ ONLY, WITH CONSISTENT SNAPSHOT;
</code></pre></div><p>\u6216\u8005\u5F00\u542F\u4E00\u4E2A\u8BFB\u5199\u4E8B\u52A1\u548C\u4E00\u81F4\u6027\u8BFB\uFF0C\u5C31\u53EF\u4EE5\u8FD9\u6837\u5199\uFF1A</p><div class="language-"><pre><code>START TRANSACTION READ WRITE, WITH CONSISTENT SNAPSHOT
</code></pre></div><p>\u4E0D\u8FC7\u8FD9\u91CC\u9700\u8981\u5927\u5BB6\u6CE8\u610F\u7684\u4E00\u70B9\u662F\uFF0CREAD ONLY\u548CREAD WRITE\u662F\u7528\u6765\u8BBE\u7F6E\u6240\u8C13\u7684\u4E8B\u52A1\u8BBF\u95EE\u6A21\u5F0F\u7684\uFF0C\u5C31\u662F\u4EE5\u53EA\u8BFB\u8FD8\u662F\u8BFB\u5199\u7684\u65B9\u5F0F\u6765\u8BBF\u95EE\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E\uFF0C\u4E00\u4E2A\u4E8B\u52A1\u7684\u8BBF\u95EE\u6A21\u5F0F\u4E0D\u80FD\u540C\u65F6\u65E2\u8BBE\u7F6E\u4E3A\u53EA\u8BFB\u7684\u4E5F\u8BBE\u7F6E\u4E3A\u8BFB\u5199\u7684\uFF0C\u6240\u4EE5\u6211\u4EEC\u4E0D\u80FD\u540C\u65F6\u628AREAD ONLY\u548CREAD WRITE\u653E\u5230START TRANSACTION\u8BED\u53E5\u540E\u8FB9\u3002\u53E6\u5916\uFF0C\u5982\u679C\u6211\u4EEC\u4E0D\u663E\u5F0F\u6307\u5B9A\u4E8B\u52A1\u7684\u8BBF\u95EE\u6A21\u5F0F\uFF0C\u90A3\u4E48\u8BE5\u4E8B\u52A1\u7684\u8BBF\u95EE\u6A21\u5F0F\u5C31\u662F\u8BFB\u5199\u6A21\u5F0F\u3002</p><h3 id="\u63D0\u4EA4\u4E8B\u52A1" tabindex="-1">\u63D0\u4EA4\u4E8B\u52A1 <a class="header-anchor" href="#\u63D0\u4EA4\u4E8B\u52A1" aria-hidden="true">#</a></h3><p>\u5F00\u542F\u4E8B\u52A1\u4E4B\u540E\u5C31\u53EF\u4EE5\u7EE7\u7EED\u5199\u9700\u8981\u653E\u5230\u8BE5\u4E8B\u52A1\u4E2D\u7684\u8BED\u53E5\u4E86\uFF0C\u5F53\u6700\u540E\u4E00\u6761\u8BED\u53E5\u5199\u5B8C\u4E86\u4E4B\u540E\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u63D0\u4EA4\u8BE5\u4E8B\u52A1\u4E86\uFF0C\u63D0\u4EA4\u7684\u8BED\u53E5\u4E5F\u5F88\u7B80\u5355\uFF1A</p><div class="language-"><pre><code>COMMIT [WORK]
</code></pre></div><p>COMMIT\u8BED\u53E5\u5C31\u4EE3\u8868\u63D0\u4EA4\u4E00\u4E2A\u4E8B\u52A1\uFF0C\u540E\u8FB9\u7684WORK\u53EF\u6709\u53EF\u65E0\u3002</p><h3 id="\u624B\u52A8\u4E2D\u6B62\u4E8B\u52A1" tabindex="-1">\u624B\u52A8\u4E2D\u6B62\u4E8B\u52A1 <a class="header-anchor" href="#\u624B\u52A8\u4E2D\u6B62\u4E8B\u52A1" aria-hidden="true">#</a></h3><p>\u5982\u679C\u6211\u4EEC\u5199\u4E86\u51E0\u6761\u8BED\u53E5\u4E4B\u540E\u53D1\u73B0\u4E0A\u8FB9\u7684\u67D0\u6761\u8BED\u53E5\u5199\u9519\u4E86\uFF0C\u6211\u4EEC\u53EF\u4EE5\u624B\u52A8\u7684\u4F7F\u7528\u4E0B\u8FB9\u8FD9\u4E2A\u8BED\u53E5\u6765\u5C06\u6570\u636E\u5E93\u6062\u590D\u5230\u4E8B\u52A1\u6267\u884C\u4E4B\u524D\u7684\u6837\u5B50\uFF1A</p><div class="language-"><pre><code>ROLLBACK [WORK]
</code></pre></div><p>ROLLBACK\u8BED\u53E5\u5C31\u4EE3\u8868\u4E2D\u6B62\u5E76\u56DE\u6EDA\u4E00\u4E2A\u4E8B\u52A1\uFF0C\u540E\u8FB9\u7684WORK\u53EF\u6709\u53EF\u65E0\u7C7B\u4F3C\u7684\u3002</p><h3 id="\u81EA\u52A8\u63D0\u4EA4" tabindex="-1">\u81EA\u52A8\u63D0\u4EA4 <a class="header-anchor" href="#\u81EA\u52A8\u63D0\u4EA4" aria-hidden="true">#</a></h3><p>MySQL\u4E2D\u6709\u4E00\u4E2A\u7CFB\u7EDF\u53D8\u91CFautocommit\uFF1A</p><div class="language-"><pre><code>mysql&gt; SHOW VARIABLES LIKE &#39;autocommit&#39;;
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| autocommit    | ON    |
+---------------+-------+
1 row in set (0.01 sec)
</code></pre></div><p>\u53EF\u4EE5\u770B\u5230\u5B83\u7684\u9ED8\u8BA4\u503C\u4E3AON\uFF0C\u4E5F\u5C31\u662F\u8BF4\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C\u6211\u4EEC\u4E0D\u663E\u5F0F\u7684\u4F7F\u7528START TRANSACTION\u6216\u8005BEGIN\u8BED\u53E5\u5F00\u542F\u4E00\u4E2A\u4E8B\u52A1\uFF0C\u90A3\u4E48\u6BCF\u4E00\u6761\u8BED\u53E5\u90FD\u7B97\u662F\u4E00\u4E2A\u72EC\u7ACB\u7684\u4E8B\u52A1\uFF0C\u8FD9\u79CD\u7279\u6027\u79F0\u4E4B\u4E3A\u4E8B\u52A1\u7684\u81EA\u52A8\u63D0\u4EA4\u3002</p><p>\u5F53\u7136\uFF0C\u5982\u679C\u6211\u4EEC\u60F3\u5173\u95ED\u8FD9\u79CD\u81EA\u52A8\u63D0\u4EA4\u7684\u529F\u80FD\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4E0B\u8FB9\u4E24\u79CD\u65B9\u6CD5\u4E4B\u4E00\uFF1A</p><ul><li>\u663E\u5F0F\u7684\u7684\u4F7F\u7528START TRANSACTION\u6216\u8005BEGIN\u8BED\u53E5\u5F00\u542F\u4E00\u4E2A\u4E8B\u52A1\u3002 \u8FD9\u6837\u5728\u672C\u6B21\u4E8B\u52A1\u63D0\u4EA4\u6216\u8005\u56DE\u6EDA\u524D\u4F1A\u6682\u65F6\u5173\u95ED\u6389\u81EA\u52A8\u63D0\u4EA4\u7684\u529F\u80FD\u3002</li><li>\u628A\u7CFB\u7EDF\u53D8\u91CFautocommit\u7684\u503C\u8BBE\u7F6E\u4E3AOFF\uFF0C\u5C31\u50CF\u8FD9\u6837\uFF1A<div class="language-"><pre><code>SET autocommit = OFF; 
</code></pre></div></li></ul><h3 id="\u4FDD\u5B58\u70B9" tabindex="-1">\u4FDD\u5B58\u70B9 <a class="header-anchor" href="#\u4FDD\u5B58\u70B9" aria-hidden="true">#</a></h3><p>\u5982\u679C\u4F60\u5F00\u542F\u4E86\u4E00\u4E2A\u4E8B\u52A1\uFF0C\u5E76\u4E14\u5DF2\u7ECF\u6572\u4E86\u5F88\u591A\u8BED\u53E5\uFF0C\u5FFD\u7136\u53D1\u73B0\u4E0A\u4E00\u6761\u8BED\u53E5\u6709\u70B9\u95EE\u9898\uFF0C\u4F60\u53EA\u597D\u4F7F\u7528ROLLBACK\u8BED\u53E5\u6765\u8BA9\u6570\u636E\u5E93\u72B6\u6001\u6062\u590D\u5230\u4E8B\u52A1\u6267\u884C\u4E4B\u524D\u7684\u6837\u5B50\uFF0C\u7136\u540E\u4E00\u5207\u4ECE\u5934\u518D\u6765\uFF0C\u603B\u6709\u4E00\u79CD\u4E00\u591C\u56DE\u5230\u89E3\u653E\u524D\u7684\u611F\u89C9\u3002\u6240\u4EE5\u8BBE\u8BA1\u6570\u636E\u5E93\u7684\u5927\u53D4\u4EEC\u63D0\u51FA\u4E86\u4E00\u4E2A\u4FDD\u5B58\u70B9\uFF08\u82F1\u6587\uFF1Asavepoint\uFF09\u7684\u6982\u5FF5\uFF0C\u5C31\u662F\u5728\u4E8B\u52A1\u5BF9\u5E94\u7684\u6570\u636E\u5E93\u8BED\u53E5\u4E2D\u6253\u51E0\u4E2A\u70B9\uFF0C\u6211\u4EEC\u5728\u8C03\u7528ROLLBACK\u8BED\u53E5\u65F6\u53EF\u4EE5\u6307\u5B9A\u4F1A\u6EDA\u5230\u54EA\u4E2A\u70B9\uFF0C\u800C\u4E0D\u662F\u56DE\u5230\u6700\u521D\u7684\u539F\u70B9\u3002\u5B9A\u4E49\u4FDD\u5B58\u70B9\u7684\u8BED\u6CD5\u5982\u4E0B\uFF1A</p><div class="language-"><pre><code>SAVEPOINT \u4FDD\u5B58\u70B9\u540D\u79F0;
</code></pre></div><p>\u5F53\u6211\u4EEC\u60F3\u56DE\u6EDA\u5230\u67D0\u4E2A\u4FDD\u5B58\u70B9\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4E0B\u8FB9\u8FD9\u4E2A\u8BED\u53E5\uFF08\u4E0B\u8FB9\u8BED\u53E5\u4E2D\u7684\u5355\u8BCDWORK\u548CSAVEPOINT\u662F\u53EF\u6709\u53EF\u65E0\u7684\uFF09\uFF1A</p><div class="language-"><pre><code>ROLLBACK [WORK] TO [SAVEPOINT] \u4FDD\u5B58\u70B9\u540D\u79F0;
</code></pre></div><p>\u5982\u679C\u6211\u4EEC\u60F3\u5220\u9664\u67D0\u4E2A\u4FDD\u5B58\u70B9\uFF0C\u53EF\u4EE5\u4F7F\u7528\u8FD9\u4E2A\u8BED\u53E5\uFF1A</p><div class="language-"><pre><code>RELEASE SAVEPOINT \u4FDD\u5B58\u70B9\u540D\u79F0;
</code></pre></div><h2 id="\u53C2\u8003" tabindex="-1">\u53C2\u8003 <a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a></h2><p><a href="https://juejin.cn/book/6844733769996304392/section/6844733770063609869?enter_from=course_center" target="_blank" rel="noopener noreferrer">https://juejin.cn/book/6844733769996304392/section/6844733770063609869?enter_from=course_center</a></p>`,47),r=[o];function l(c,d,p,h,u,m){return a(),t("div",null,r)}var A=e(s,[["render",l]]);export{g as __pageData,A as default};
